import{r as a,s as g,c as j,j as e}from"./index-iGQR-3dk.js";import{P as b,a as k}from"./ProjectCard-CZuoD8B4.js";import{N as y}from"./Navbar-qTHb88Gb.js";import"./Button-C5OumFf6.js";import"./utils-Dsp2dnNP.js";import"./x-gOOsihtg.js";import"./purify.es-CEVJ7K31.js";import"./useCategories-kHCFXMui.js";import"./search-DB3LOEEu.js";function D(){const[l,c]=a.useState([]),[u,o]=a.useState(!0),[t,x]=a.useState("All"),[i,m]=a.useState(null),[p,n]=a.useState(!1);a.useEffect(()=>{h()},[t]);const h=async()=>{o(!0);try{let r=g.from("projects").select("*").in("project_type",["airdrop","both"]).order("created_at",{ascending:!1});t!=="All"&&(r=r.eq("status",t));const{data:d,error:s}=await r;if(s)throw console.error("Supabase fetchAllAirdropProjects error:",s),s;console.log("fetchAllAirdropProjects: Data received:",d),c(d||[])}catch(r){console.error("Error fetching airdrop projects:",r),j.error("Gagal memuat daftar airdrop.")}finally{o(!1)}},f=r=>{m(r),n(!0)};return u?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 dark:bg-neutral-900",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-text-dark dark:text-text-light flex flex-col",children:[e.jsx(y,{showSearchAndCategories:!1}),e.jsxs("main",{className:"container mx-auto px-4 py-8 flex-1",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-neutral-900 dark:text-neutral-50 mb-4",children:"Daftar Airdrop"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-3xl",children:"Jelajahi berbagai proyek airdrop yang tersedia."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"airdrop-status-filter",className:"sr-only",children:"Filter Airdrop by Status"}),e.jsxs("select",{id:"airdrop-status-filter",value:t,onChange:r=>x(r.target.value),className:`w-full md:w-auto rounded-lg border border-neutral-300 dark:border-neutral-700 shadow-sm p-2.5
                       bg-white dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100
                       focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors duration-200`,children:[e.jsx("option",{value:"All",children:"Semua Status"}),e.jsx("option",{value:"Aktif",children:"Aktif"}),e.jsx("option",{value:"Segera",children:"Segera"}),e.jsx("option",{value:"Selesai",children:"Selesai"})]})]}),l.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h3",{className:"text-xl font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"Tidak ada proyek Airdrop ditemukan."}),e.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Coba sesuaikan filter atau periksa kembali nanti."})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.map(r=>e.jsx(b,{project:r,showActions:!0,variant:"list",onShare:f},r.id))})]}),e.jsx("footer",{className:"bg-white dark:bg-neutral-900 border-t border-gray-200 dark:border-neutral-800 py-8 mt-auto",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsx("div",{className:"mb-4 md:mb-0",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:"Temukan dan bagikan proyek menakjubkan."})}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Â© ",new Date().getFullYear()," CopyShare. Semua hak dilindungi."]})]})})}),i&&e.jsx(k,{isOpen:p,onClose:()=>n(!1),project:i})]})}export{D as default};
