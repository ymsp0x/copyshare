import{u as f,r as c,s as d,c as h,j as e}from"./index-C_StH8Xa.js";import{P as g}from"./ProjectCard-CoErAobi.js";import{E as y}from"./external-link-BhpZAGqE.js";import"./Button-DNr2lDT6.js";import"./purify.es-CEVJ7K31.js";import"./createLucideIcon-DGqH6ZsJ.js";function k(){var l;const{id:o}=f(),[t,m]=c.useState(null),[i,x]=c.useState([]),[j,n]=c.useState(!0);c.useEffect(()=>{o&&(p(o),u(o))},[o]);const p=async s=>{n(!0);try{const{data:r,error:a}=await d.from("projects").select("*, projects!inner(categories)").eq("id",s).single();if(a)throw a;m(r)}catch(r){console.error("Error fetching project:",r),h.error("Failed to load airdrop details")}finally{n(!1)}},u=async s=>{try{const{data:r,error:a}=await d.from("projects").select("*, projects!inner(categories)").neq("id",s).eq("project_type","airdrop").limit(3);if(a)throw a;x(r||[])}catch(r){console.error("Error fetching related projects:",r)}};return j?e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):t?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 dark:text-neutral-50 mb-4",children:t.title}),e.jsx(CategoryTags,{categories:((l=t.projects)==null?void 0:l.categories)||[]}),e.jsx("div",{className:"mt-4 text-neutral-700 dark:text-neutral-300 leading-relaxed",dangerouslySetInnerHTML:{__html:t.airdrop_description||""}}),t.project_url&&e.jsxs("a",{href:t.project_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center mt-4 text-blue-600 dark:text-blue-400 hover:underline",children:["Visit Project ",e.jsx(y,{className:"ml-1 h-4 w-4"})]})]}),i.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-neutral-900 dark:text-neutral-50 mb-6",children:"Related Airdrops"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>e.jsx(g,{project:s},s.id))})]})]}):e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Airdrop not found"})}export{k as default};
