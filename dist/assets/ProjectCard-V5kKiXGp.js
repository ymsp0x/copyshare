import{j as e,c as d,L as u}from"./index-uwIF3F1o.js";import{B as c}from"./Button-D3nb28-N.js";import{c as x,X as m}from"./x-Yq7FgFE_.js";import{p}from"./purify.es-CEVJ7K31.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=x("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=x("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function v({isOpen:t,onClose:l,project:r}){if(!t)return null;const s=`${window.location.origin}/project/${r.slug}`,o=[{name:"WhatsApp",icon:"📱",url:`https://api.whatsapp.com/send?text=${encodeURIComponent(`Cek proyek ini: ${r.title} - ${s}`)}`,color:"bg-green-500 hover:bg-green-600"},{name:"Telegram",icon:"✈️",url:`https://t.me/share/url?url=${encodeURIComponent(s)}&text=${encodeURIComponent(`Cek proyek ini: ${r.title}`)}`,color:"bg-blue-500 hover:bg-blue-600"},{name:"Facebook",icon:e.jsx(g,{className:"h-5 w-5"}),url:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}`,color:"bg-[#1877F2] hover:bg-[#0e67da]"},{name:"X (Twitter)",icon:e.jsx(m,{className:"h-5 w-5"}),url:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`Cek proyek ini: ${r.title}`)}&url=${encodeURIComponent(s)}`,color:"bg-black hover:bg-neutral-800"}],n=()=>{const a=document.createElement("textarea");a.value=s,document.body.appendChild(a),a.select();try{document.execCommand("copy"),d.success("Tautan berhasil disalin!")}catch(i){console.error("Gagal menyalin tautan:",i),d.error("Gagal menyalin tautan.")}document.body.removeChild(a)};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:l}),e.jsxs("div",{className:"bg-white/10 dark:bg-neutral-800/20 rounded-lg shadow-xl w-full max-w-md relative z-10 overflow-hidden backdrop-blur-md border border-white/20 dark:border-neutral-700/50",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 px-6 py-4 flex justify-between items-center",children:[e.jsxs("h3",{className:"text-white font-medium flex items-center",children:[e.jsx(h,{className:"mr-2 h-5 w-5"})," Bagikan Proyek"]}),e.jsx("button",{onClick:l,className:"text-white hover:text-gray-200",children:e.jsx(m,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-1 text-gray-900 dark:text-white",children:r.title}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Bagikan proyek ini dengan orang lain"}),e.jsxs("div",{className:"border border-gray-200 dark:border-neutral-700 rounded-md p-3 mb-4 bg-gray-50 dark:bg-neutral-700 flex items-center",children:[e.jsx("input",{type:"text",readOnly:!0,value:s,className:"flex-1 bg-transparent border-none focus:ring-0 text-sm text-gray-600 dark:text-gray-300",id:"project-share-url"}),e.jsx(c,{onClick:n,variant:"outline",size:"sm",className:"ml-2 whitespace-nowrap",children:"Salin"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-2",children:o.map(a=>e.jsxs("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:`${a.color} text-white rounded-md py-3 px-4 text-center flex flex-col items-center justify-center hover:opacity-90 transition-colors`,children:[e.jsx("span",{className:"text-xl mb-1",children:a.icon}),e.jsx("span",{className:"text-sm",children:a.name})]},a.name))})]})]})]})}const b=t=>{if(!t)return"";const l=p.sanitize(t,{USE_PROFILES:{html:!0}});return new DOMParser().parseFromString(l,"text/html").documentElement.textContent||""};function j({project:t,showActions:l=!0,onShare:r}){var n;const s="https://images.pexels.com/photos/3182812/pexels-photo-3182812.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",o=b(t.description);return e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg flex flex-col h-full group shadow-glow-sm dark:shadow-glow-sm hover:shadow-glow-md dark:hover:shadow-glow-md",children:[e.jsx("div",{className:"relative h-48 overflow-hidden rounded-xl",children:e.jsx("img",{src:t.image_url||s,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"})}),e.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-2 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 text-sm mb-4 line-clamp-3",children:o}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-auto mb-3",children:[(n=t.categories)==null?void 0:n.slice(0,3).map((a,i)=>e.jsx("span",{className:"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-200 px-2 py-0.5 rounded text-xs",children:a},i)),t.categories&&t.categories.length>3&&e.jsxs("span",{className:"bg-neutral-100 text-neutral-700 dark:bg-neutral-700 dark:text-neutral-200 px-2 py-0.5 rounded text-xs",children:["+",t.categories.length-3]})]}),l&&e.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[e.jsx(u,{to:`/project/${t.slug}`,children:e.jsx(c,{size:"sm",variant:"outline",children:"View details"})}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>r&&r(t),"aria-label":"Share project",children:e.jsx(h,{className:"h-4 w-4"})})]})]})]})}export{j as P,h as S,v as a};
