import{r as a,j as e,L as g,s as b}from"./index-uwIF3F1o.js";import{N as f}from"./Navbar-BQb5Crb2.js";import{T as j}from"./utils-BpHdSz2h.js";import"./useCategories-0pgtHrNh.js";import"./search-BlaOlATZ.js";import"./x-Yq7FgFE_.js";function A(){const[n,x]=a.useState([]),[m,i]=a.useState(!0),[o,c]=a.useState(null),[s,p]=a.useState("All");a.useEffect(()=>{async function r(){i(!0),c(null);try{let t=b.from("activities").select("*, projects!inner(categories)").order("created_at",{ascending:!1}).limit(50);s!=="All"&&(t=t.eq("project_status_after",s));const{data:l,error:d}=await t;if(d)throw d;x(l||[])}catch(t){console.error("Error fetching airdrop activities:",t.message),c("Failed to load airdrop activities: "+t.message)}finally{i(!1)}}r()},[s]);const u="https://images.pexels.com/photos/3182812/pexels-photo-3182812.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2";return e.jsxs("div",{className:"min-h-screen bg-background-light text-text-dark dark:bg-background-dark dark:text-text-light flex flex-col",children:[e.jsx(f,{showSearchAndCategories:!1}),e.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 flex-1",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-neutral-900 dark:text-neutral-50 mb-6",children:"Airdrop Terbaru"}),e.jsxs("div",{className:"mb-8 max-w-xs sm:max-w-none",children:[e.jsx("label",{htmlFor:"status-filter",className:"sr-only",children:"Filter by Status"}),e.jsxs("select",{id:"status-filter",value:s,onChange:r=>p(r.target.value),className:`w-full sm:w-56 rounded-lg border border-neutral-300 dark:border-neutral-700 shadow-sm p-2.5
                       bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100
                       focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200`,children:[e.jsx("option",{value:"All",children:"All Status"}),e.jsx("option",{value:"Aktif",children:"Aktif"}),e.jsx("option",{value:"Segera",children:"Segera"}),e.jsx("option",{value:"Selesai",children:"Selesai"})]})]}),m?e.jsx("div",{className:"flex justify-center items-center py-10",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):o?e.jsx("div",{className:"text-center text-red-500 dark:text-red-400 py-10",children:e.jsx("p",{children:o})}):n.length===0?e.jsxs("div",{className:"text-center text-neutral-500 dark:text-neutral-400 py-10",children:[e.jsx("p",{children:"Tidak ada airdrop saat ini."}),e.jsx("p",{children:"Airdrop baru tersedia."})]}):e.jsx("div",{className:"space-y-4",children:n.map(r=>{var t,l;return e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md p-6 sm:p-7 border border-neutral-200 dark:border-neutral-700 transition-all duration-200 hover:shadow-lg hover:border-primary-300 dark:hover:border-primary-600",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-4 mb-3",children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-full overflow-hidden shadow-sm border border-neutral-200 dark:border-neutral-700",children:e.jsx("img",{src:r.image_url||u,alt:r.entity_name||"Airdrop Image",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-neutral-900 dark:text-neutral-100 leading-tight",children:[r.entity_name,r.entity_type==="project"&&((t=r.metadata)==null?void 0:t.slug)&&e.jsx(g,{to:`/project/${r.metadata.slug}`,className:"ml-2 text-primary-500 hover:underline hover:text-primary-600 dark:hover:text-primary-300 transition-colors duration-200 text-base font-normal",children:"(View)"})]}),r.project_status_after&&e.jsxs("span",{className:"text-sm font-semibold text-primary-700 dark:text-primary-400 uppercase tracking-wider",children:["Status: ",r.project_status_after]})]})]}),r.description&&e.jsx("p",{className:"text-neutral-700 dark:text-neutral-300 text-base leading-relaxed mt-2",children:r.description}),((l=r.projects)==null?void 0:l.categories)&&r.projects.categories.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-3 pt-3 border-t border-neutral-100 dark:border-neutral-700",children:r.projects.categories.map((d,h)=>e.jsx("span",{className:"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-200 px-2 py-0.5 rounded text-xs",children:d},h))})]},r.id)})})]}),e.jsx("footer",{className:"bg-white dark:bg-neutral-900 border-t border-gray-200 dark:border-neutral-800 py-8",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"mb-4 md:mb-0",children:[e.jsx(j,{}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:"Temukan dan bagikan proyek menakjubkan."})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Â© ",new Date().getFullYear()," CopyShare. All rights reserved."]})]})})})]})}export{A as default};
