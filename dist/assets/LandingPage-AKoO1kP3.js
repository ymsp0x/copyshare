import{R as g,j as e,r as j,s as F,c as T,u as $}from"./index-WASHv_N7.js";import{P as A,S as O,N as L}from"./ShareModal-CrWNBpWm.js";import{T as M}from"./Button-Dnv-DVnN.js";import"./search-CwRmDWZn.js";import"./x-C5g2DXhF.js";const D=g.createContext({}),_=!0;function R({baseColor:s,highlightColor:a,width:r,height:o,borderRadius:d,circle:x,direction:m,duration:n,enableAnimation:p=_,customHighlightBackground:i}){const t={};return m==="rtl"&&(t["--animation-direction"]="reverse"),typeof n=="number"&&(t["--animation-duration"]=`${n}s`),p||(t["--pseudo-element-display"]="none"),(typeof r=="string"||typeof r=="number")&&(t.width=r),(typeof o=="string"||typeof o=="number")&&(t.height=o),(typeof d=="string"||typeof d=="number")&&(t.borderRadius=d),x&&(t.borderRadius="50%"),typeof s<"u"&&(t["--base-color"]=s),typeof a<"u"&&(t["--highlight-color"]=a),typeof i=="string"&&(t["--custom-highlight-background"]=i),t}function u({count:s=1,wrapper:a,className:r,containerClassName:o,containerTestId:d,circle:x=!1,style:m,...n}){var p,i,t;const h=g.useContext(D),l={...n};for(const[c,f]of Object.entries(n))typeof f>"u"&&delete l[c];const y={...h,...l,circle:x},b={...m,...R(y)};let v="react-loading-skeleton";r&&(v+=` ${r}`);const E=(p=y.inline)!==null&&p!==void 0?p:!1,N=[],k=Math.ceil(s);for(let c=0;c<k;c++){let f=b;if(k>s&&c===k-1){const w=(i=f.width)!==null&&i!==void 0?i:"100%",P=s%1,C=typeof w=="number"?w*P:`calc(${w} * ${P})`;f={...f,width:C}}const S=g.createElement("span",{className:v,style:f,key:c},"‌");E?N.push(S):N.push(g.createElement(g.Fragment,{key:c},S,g.createElement("br",null)))}return g.createElement("span",{className:o,"data-testid":d,"aria-live":"polite","aria-busy":(t=y.enableAnimation)!==null&&t!==void 0?t:_},a?N.map((c,f)=>g.createElement(a,{key:f},c)):N)}const z=()=>e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-md overflow-hidden flex flex-col h-full",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx(u,{height:192,className:"w-full"})," "]}),e.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:e.jsx(u,{width:"80%"})}),e.jsx("p",{className:"text-sm mb-4 line-clamp-3",children:e.jsx(u,{count:3})}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-auto mb-3",children:[e.jsx(u,{width:60,height:20,className:"rounded-full"}),e.jsx(u,{width:60,height:20,className:"rounded-full"}),e.jsx(u,{width:40,height:20,className:"rounded-full"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[e.jsx(u,{width:100,height:32}),e.jsx(u,{circle:!0,width:32,height:32})]})]})]});function q({searchQuery:s="",selectedCategory:a}){const[r,o]=j.useState([]),[d,x]=j.useState(!0),[m,n]=j.useState(null),[p,i]=j.useState(!1);j.useEffect(()=>{(async()=>{x(!0);try{let l=F.from("projects").select("*").order("created_at",{ascending:!1});s&&(l=l.ilike("title",`%${s}%`)),a&&(l=l.filter("categories","cs",`["${a}"]`));const{data:y,error:b}=await l;if(b)throw b;o(y||[])}catch(l){console.error("Error fetching projects:",l),T.error("Failed to load projects")}finally{x(!1)}})()},[s,a]);const t=h=>{n(h),i(!0)};return d?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((h,l)=>e.jsx(z,{},l))}):r.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h3",{className:"text-xl font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"No projects found"}),e.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:s||a?"Try adjusting your search or filters":"Projects will appear here once they are added"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(h=>e.jsx(A,{project:h,onShare:t},h.id))}),m&&e.jsx(O,{isOpen:p,onClose:()=>i(!1),project:m})]})}function K(){const[s,a]=j.useState(""),[r,o]=j.useState(null),{theme:d}=$(),x=n=>{a(n)},m=n=>{o(n)};return e.jsxs("div",{className:"min-h-screen bg-background-light text-text-dark dark:bg-background-dark dark:text-text-light",children:[e.jsx(L,{onSearch:x,onCategorySelect:m,selectedCategory:r}),e.jsxs("main",{children:[e.jsx("section",{className:"bg-background-light dark:bg-background-dark",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-accent-blue to-accent-pink mb-4 [text-shadow:_0_2px_8px_rgb(0_0_0_/_20%)] animate-fade-in-up delay-400",children:"Discover and Share Amazing Projects"}),e.jsxs("p",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-200 mb-8 max-w-2xl mx-auto leading-relaxed animate-fade-in-up delay-600",children:[" ","CopyShare is your gateway to the latest and greatest projects. Browse, filter, and share with just a few clicks."]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up delay-800",children:e.jsx("a",{href:"#projects",className:"px-6 py-3 text-base font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-primary-500 to-secondary-500 hover:from-primary-600 hover:to-secondary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Explore Projects"})})]})})}),e.jsx("section",{id:"projects",className:"py-12 bg-background-light dark:bg-background-dark",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-text-dark dark:text-text-light mb-4",children:"Featured Projects"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-3xl",children:"Browse through our collection of handpicked projects across various categories. Filter by status or search to find exactly what you're looking for."})]}),e.jsx(q,{searchQuery:s,selectedCategory:r})]})})]}),e.jsx("footer",{className:"bg-white dark:bg-neutral-900 border-t border-gray-200 dark:border-neutral-800 py-8",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"mb-4 md:mb-0",children:[e.jsx(M,{}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:"Discover and share amazing projects."})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," CopyShare. All rights reserved."]})]})})})]})}export{K as default};
