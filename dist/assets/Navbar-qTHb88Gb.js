import{r as l,a as H,b as Q,j as e,L as s}from"./index-iGQR-3dk.js";import{T as C,c as a}from"./utils-Dsp2dnNP.js";import{u as G}from"./useCategories-kHCFXMui.js";import{S as I}from"./search-DB3LOEEu.js";import{c as f,X as J,M as S}from"./x-gOOsihtg.js";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=f("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=f("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=f("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function X({onSearch:i,onCategorySelect:n,selectedCategory:t,showSearchAndCategories:c=!1}){var R,D;const[k,v]=l.useState(!1),[d,j]=l.useState(""),[N,p]=l.useState(!1),y=l.useDeferredValue(d),o=H(),x=l.useRef(null),{theme:w,toggleTheme:M}=Q(),{categoryNames:q,isLoading:E,error:O}=G();l.useEffect(()=>{i&&c&&(y.length>0?i(y):t!==null||i(""))},[y,i,t,c]),l.useEffect(()=>{const r=b=>{x.current&&!x.current.contains(b.target)&&!b.target.closest(".category-dropdown")&&!b.target.closest(".theme-toggle-button")&&p(!1)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[x]);const L=r=>{j(r.target.value),p(!0),r.target.value.length===0&&t!==null&&(n==null||n(null))},T=r=>{r.preventDefault(),i&&c&&i(d),p(!1)},h=r=>{n==null||n(r),j(""),p(!1)},_=()=>v(!k),m=()=>v(!1),u=q.filter(r=>r.toLowerCase().includes(d.toLowerCase()));return e.jsx("header",{className:"bg-white dark:bg-neutral-900 shadow-sm dark:shadow-neutral-800 sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(s,{to:"/",className:"flex-shrink-0",children:e.jsx(C,{})})}),c&&e.jsxs("div",{className:"hidden md:block flex-1 max-w-md mx-8 relative",children:[e.jsxs("form",{onSubmit:T,className:"relative",children:[e.jsx("input",{ref:x,type:"text",placeholder:t?`Search projects in ${t}...`:"Search projects or categories...",className:"w-full rounded-full pl-10 pr-4 py-2 border border-gray-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900 text-text-dark dark:text-text-light placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:focus:ring-primary-500 dark:focus:border-primary-500",value:d,onChange:L,onFocus:()=>p(!0),name:"desktop_search_query"}),e.jsx(I,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-500 dark:text-gray-400"})]}),N&&(d.length>0||t===null||((R=x.current)==null?void 0:R.matches(":focus")))&&e.jsxs("div",{className:"category-dropdown absolute left-0 right-0 mt-2 bg-white/10 dark:bg-neutral-800/20 border border-gray-200/20 dark:border-neutral-700/50 rounded-md shadow-lg py-1 z-10 max-h-60 overflow-y-auto backdrop-blur-md",children:[e.jsxs("button",{onClick:()=>h(null),className:a("flex items-center w-full px-4 py-2 text-sm text-text-dark dark:text-text-light hover:bg-gray-100 dark:hover:bg-neutral-700",t===null?"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-200":""),children:[e.jsx(g,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"})," All Projects"]}),e.jsx("div",{className:"border-t border-gray-100 dark:border-neutral-700 my-1"}),E?e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading categories..."}):O?e.jsx("div",{className:"px-4 py-2 text-sm text-red-500 dark:text-red-400",children:"Error loading categories."}):u.length>0?u.map(r=>e.jsxs("button",{onClick:()=>h(r),className:a("flex items-center w-full px-4 py-2 text-sm text-text-dark dark:text-text-light hover:bg-gray-100 dark:hover:bg-neutral-700",t===r?"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-200":""),children:[e.jsx(g,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"})," ",r]},r)):e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No matching categories."})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx(s,{to:"/",className:a("px-3 py-2 rounded-md text-sm font-medium transition-colors",o.pathname==="/"?"text-primary-600 dark:text-primary-400":"text-text-dark dark:text-text-light hover:text-primary-600 dark:hover:text-primary-400"),children:"HOME"}),e.jsx(s,{to:"/projects",className:a("px-3 py-2 rounded-md text-sm font-medium transition-colors",o.pathname==="/projects"||o.pathname.startsWith("/project/")?"text-primary-600 dark:text-primary-400":"text-text-dark dark:text-text-light hover:text-primary-600 dark:hover:text-primary-400"),children:"PROJECTS"}),e.jsx(s,{to:"/airdrop",className:a("px-3 py-2 rounded-md text-sm font-medium transition-colors",o.pathname==="/airdrop"?"text-primary-600 dark:text-primary-400":"text-text-dark dark:text-text-light hover:text-primary-600 dark:hover:text-primary-400"),children:"AIRDROP"}),e.jsx(s,{to:"/degen-monitor",className:a("px-3 py-2 rounded-md text-sm font-medium transition-colors",o.pathname==="/degen-monitor"?"text-primary-600 dark:text-primary-400":"text-text-dark dark:text-text-light hover:text-primary-600 dark:hover:text-primary-400"),children:"DEGEN MONITOR"})," ",e.jsx("button",{onClick:M,className:"theme-toggle-button p-2 rounded-full text-text-dark dark:text-text-light hover:bg-gray-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":"Toggle theme",children:w==="dark"?e.jsx(P,{className:"h-5 w-5"}):e.jsx(z,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"md:hidden flex items-center",children:[e.jsx("button",{onClick:M,className:"theme-toggle-button p-2 rounded-full text-text-dark dark:text-text-light hover:bg-gray-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-primary-500 mr-2","aria-label":"Toggle theme",children:w==="dark"?e.jsx(P,{className:"h-5 w-5"}):e.jsx(z,{className:"h-5 w-5"})}),e.jsx("button",{onClick:_,className:"p-2 rounded-md text-gray-500 dark:text-gray-200 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none",children:k?e.jsx(J,{className:"h-6 w-6"}):e.jsx(S,{className:"h-6 w-6"})})]})]}),k&&e.jsx("div",{className:"md:hidden bg-white dark:bg-neutral-900 border-t border-gray-200 dark:border-neutral-800 py-2",children:e.jsxs("div",{className:"container mx-auto px-4 space-y-3",children:[c&&e.jsxs("div",{className:"relative",children:[e.jsxs("form",{onSubmit:T,className:"relative",children:[e.jsx("input",{type:"text",placeholder:t?`Search projects in ${t}...`:"Search projects or categories...",className:"w-full rounded-full pl-10 pr-4 py-2 border border-gray-300 dark:border-neutral-700 bg-neutral-100 dark:bg-neutral-900 text-text-dark dark:text-text-light placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:focus:ring-primary-500 dark:focus:border-primary-500",value:d,onChange:L,name:"mobile_search_query"}),e.jsx(I,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-500 dark:text-gray-400"})]}),N&&(d.length>0||t===null||((D=x.current)==null?void 0:D.matches(":focus")))&&e.jsxs("div",{className:"category-dropdown absolute left-0 right-0 mt-2 bg-white/10 dark:bg-neutral-800/20 border border-gray-200/20 dark:border-neutral-700/50 rounded-md shadow-lg py-1 z-10 max-h-60 overflow-y-auto backdrop-blur-md",children:[e.jsxs("button",{onClick:()=>{h(null),m()},className:a("flex items-center w-full px-4 py-2 text-sm text-text-dark dark:text-text-light hover:bg-gray-100 dark:hover:bg-neutral-700",t===null?"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-200":""),children:[e.jsx(g,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"})," All Projects"]}),e.jsx("div",{className:"border-t border-gray-100 dark:border-neutral-700 my-1"}),E?e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading categories..."}):O?e.jsx("div",{className:"px-4 py-2 text-sm text-red-500 dark:text-red-400",children:"Error loading categories."}):u.length>0?u.map(r=>e.jsxs("button",{onClick:()=>{h(r),m()},className:a("flex items-center w-full px-4 py-2 text-sm text-text-dark dark:text-text-light hover:bg-gray-100 dark:hover:bg-neutral-700",t===r?"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-200":""),children:[e.jsx(g,{className:"mr-2 h-4 w-4 text-gray-500 dark:text-gray-400"})," ",r]},r)):e.jsx("div",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:"No matching categories."})]})]}),e.jsx(s,{to:"/",className:"block px-3 py-2 rounded-md text-base font-medium text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-neutral-800 hover:text-primary-600 dark:hover:text-primary-400",onClick:m,children:"HOME"}),e.jsx(s,{to:"/projects",className:"block px-3 py-2 rounded-md text-base font-medium text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-neutral-800 hover:text-primary-600 dark:hover:text-primary-400",onClick:m,children:"PROJECTS"}),e.jsx(s,{to:"/airdrop",className:a("block px-3 py-2 rounded-md text-base font-medium text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-neutral-800 hover:text-primary-600 dark:hover:text-primary-400",o.pathname==="/airdrop"?"text-primary-600 dark:text-primary-400":""),onClick:m,children:"AIRDROP"}),e.jsx(s,{to:"/degen-monitor",className:a("block px-3 py-2 rounded-md text-base font-medium text-text-dark dark:text-text-light hover:bg-gray-50 dark:hover:bg-neutral-800 hover:text-primary-600 dark:hover:text-primary-400",o.pathname==="/degen-monitor"?"text-primary-600 dark:text-primary-400":""),onClick:m,children:"DEGEN MONITOR"})," "]})})]})})}export{X as N};
